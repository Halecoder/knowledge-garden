<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

    <title></title>
    <link rel="stylesheet" href="dist/reveal.css" />
    <link rel="stylesheet" href="dist/theme/white.css" id="theme" />
    <link rel="stylesheet" href="plugin/highlight/zenburn.css" />
	<link rel="stylesheet" href="css/layout.css" />
	<link rel="stylesheet" href="plugin/customcontrols/style.css">
	<link rel="stylesheet" href="plugin/chalkboard/style.css">


    <script defer src="dist/fontawesome/all.min.js"></script>

	<script type="text/javascript">
		var forgetPop = true;
		function onPopState(event) {
			if(forgetPop){
				forgetPop = false;
			} else {
				parent.postMessage(event.target.location.href, "app://obsidian.md");
			}
        }
		window.onpopstate = onPopState;
		window.onmessage = event => {
			if(event.data == "reload"){
				window.document.location.reload();
			}
			forgetPop = true;
		}

		function fitElements(){
			const itemsToFit = document.getElementsByClassName('fitText');
			for (const item in itemsToFit) {
				if (Object.hasOwnProperty.call(itemsToFit, item)) {
					var element = itemsToFit[item];
					fitElement(element,1, 1000);
					element.classList.remove('fitText');
				}
			}
		}

		function fitElement(element, start, end){

			let size = (end + start) / 2;
			element.style.fontSize = `${size}px`;

			if(Math.abs(start - end) < 1){
				while(element.scrollHeight > element.offsetHeight){
					size--;
					element.style.fontSize = `${size}px`;
				}
				return;
			}

			if(element.scrollHeight > element.offsetHeight){
				fitElement(element, start, size);
			} else {
				fitElement(element, size, end);
			}		
		}


		document.onreadystatechange = () => {
			fitElements();
			if (document.readyState === 'complete') {
				if (window.location.href.indexOf("?export") != -1){
					parent.postMessage(event.target.location.href, "app://obsidian.md");
				}
				if (window.location.href.indexOf("print-pdf") != -1){
					let stateCheck = setInterval(() => {
						clearInterval(stateCheck);
						window.print();
					}, 250);
				}
			}
	};


        </script>
  </head>
  <body>
    <div class="reveal">
      <div class="slides"><section  data-markdown><script type="text/template">

## 为啥用markdown方式的ppt

双向引用，直接ppt还有个好处，就是双向同步，不会改了这忘了那
还有slidev正在开发中，等成熟了和revealjs综合对比看看。

## 奇技淫巧

advanced slides 的 奇技淫巧

## 插件简介

这个插件就是魔改的[reveal.js](https://revealjs.com/)，和obsidian进行了更好地融合。
官方文档[Advanced Slides Documentation (mszturc.github.io)](https://mszturc.github.io/obsidian-advanced-slides/getting-start/)
> We follow the philosophy of `convention over configuration`, which means that in most cases it is sufficient to simply write a Slide in **Obsidian Markdown syntax**.


</script></section><section ><section data-markdown><script type="text/template">
## 基本使用
</script></section><section data-markdown><script type="text/template">
### Links

- 默认的两个中括号，它不识别，如果需要呈现跳转链接，需要用回传统的markdown的中括号加小括号的方式。[Link to note](obsidian://open?path=D:%2Fpath%2Fto%2Ffile.md)
  --

### 表格

| a      | b        | c   |
| ------ | -------- | --- |
| d      | e        | f   |
| 大一点 | 自动缩放 | 会不会    |
</script></section><section data-markdown><script type="text/template">
### 代码支持

```shell
git clone https://
```

按点击顺序依次高亮代码

```javascript [1-2|4]
let a=0
let b=1
let c=3
var d=5
```

advanced slides 的 奇技淫巧
</script></section></section><section ><section data-markdown><script type="text/template">
## 高级使用
</script></section><section data-markdown><script type="text/template">
### 垂直分页

刚才已经用到，用2个-分割开就行
</script></section><section data-markdown><script type="text/template">
### 引入单元素的css

text with border <!-- .element: class="with-border" -->

text with background <!-- .element: style="background: blue" -->

text with attribute <!-- .element: data-toggle="modal" -->
</script></section><section data-markdown><script type="text/template">
### 单页ppt的css全局样式控制

<!-- .slide: style="background-color: coral" -->
这一页的主题被控制
</script></section><section data-markdown><script type="text/template">
### 单页ppt划分成block，进行细粒度css样式控制

</div>

 <!--SR:!2022-04-02,4,270!2022-04-02,4,270--> <!--SR:!2022-04-02,4,270!2022-04-02,4,270-->
块1
	</div>

 <!--SR:!2022-04-02,4,270!2022-04-02,4,270--> <!--SR:!2022-04-02,4,270!2022-04-02,4,270--> <!--SR:!2022-04-02,4,270!2022-04-02,4,270-->
	块2
	</div>

 <!--SR:!2022-04-02,4,270!2022-04-02,4,270--> <!--SR:!2022-04-02,4,270!2022-04-02,4,270--> <!--SR:!2022-04-02,4,270!2022-04-02,4,270-->

</div>

 <!--SR:!2022-04-02,4,270!2022-04-02,4,270--> <!--SR:!2022-04-02,4,270!2022-04-02,4,270-->

</div>

 <!--SR:!2022-04-02,4,270!2022-04-02,4,270--> <!--SR:!2022-04-02,4,270!2022-04-02,4,270-->
块3
块3
可见生效方式要有前和尾形成闭合
</div>

 <!--SR:!2022-04-02,4,270!2022-04-02,4,270--> <!--SR:!2022-04-02,4,270!2022-04-02,4,270-->
</script></section><section data-markdown><script type="text/template">
### 单页内的元素出现和消失的控制

Fade in <!-- .element: class="fragment" -->

Fade out <!-- .element: class="fragment fade-out" -->

Highlight red <!-- .element: class="fragment highlight-red" -->

Fade in, then out <!-- .element: class="fragment fade-in-then-out" -->

Slide up while fading in <!-- .element: class="fragment fade-up" -->
</script></section><section data-markdown><script type="text/template">
点击按顺序出现
- Appear Fourth <!-- .element: class="fragment" data-fragment-index="4" -->
- Appear Third <!-- .element: class="fragment" data-fragment-index="3" -->
- Appear Second <!-- .element: class="fragment" data-fragment-index="2" -->
- Appear First <!-- .element: class="fragment" data-fragment-index="1" -->
  
  --

### 单页内的元素用css的style语法控制样式

<style>
	.with-border{

border: 1px solid red;

	}
</style>

styled text <!-- .element: class="with-border" -->
</script></section><section data-markdown><script type="text/template">
也可以引入css文件，但我应该用不到，没必要搞这么复杂的样式。

```md
前后要加---，相当于放在metadata里面
css: [css/layout.css,css/customFonts.css]
```
</script></section><section data-markdown><script type="text/template">
### 单页的背景控制，这很有用

<!-- .slide: data-background="#ff0000" -->

### Slide with hex based background
</script></section><section data-markdown><script type="text/template">
<!-- .slide: data-background-image="https://picsum.photos/seed/picsum/800/600" -->
- ### Slide with image background
  
  --

### 演讲者视图

浏览器打开后，按s，

<aside class="notes"><p>note之后，就是演讲者自己的笔记和注释</p>
</aside></script></section><section data-markdown><script type="text/template">
### 最简单的控制元素进场顺序

用+号和）号。实时阅览模式，➕会被自动变成圆，这里得换成编辑模式
- aaa
  - &shy;<!-- .element: class="fragment" data-fragment-index="1" -->bbb
  - &shy;<!-- .element: class="fragment" data-fragment-index="2" -->ccc
  
  --

### 打开excalidraw导出开关，这边用svg或png

<p style="line-height: 0" class="reset-paragraph image-paragraph"><img src="数字时代如何更好地工作与生活 - 图.svg" alt="" style="width: 500px"></img></p>

</script></section><section data-markdown><script type="text/template">
### 各种icon和动画

要引入html和css，过于麻烦，以后有需要再说：
[Advaced Slides Documentation (mszturc.github.io)](https://mszturc.github.io/obsidian-advanced-slides/extend-syntax/fontawesome/)
</script></section></section><section ><section data-markdown><script type="text/template">
## 版面和布局-分割元素
</script></section><section data-markdown><script type="text/template"><split even>

<p style="line-height: 0" class="reset-paragraph image-paragraph"><img src="https://picsum.photos/id/1005/250/250" alt="" ></img></p>

<p style="line-height: 0" class="reset-paragraph image-paragraph"><img src="https://picsum.photos/id/1010/250/250" alt="" ></img></p>

<p style="line-height: 0" class="reset-paragraph image-paragraph"><img src="https://picsum.photos/id/1025/250/250" alt="" ></img></p>

</split>
</script></section><section data-markdown><script type="text/template"><split even gap="3">

**Lorem Ipsum** is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s

when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap

into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem

</split>
</script></section><section data-markdown><script type="text/template"><split left="2" right="1" gap="2">

**Lorem Ipsum** is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s

when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap

into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem

</split>
</script></section><section data-markdown><script type="text/template">
<split wrap="4">

<p style="line-height: 0" class="reset-paragraph image-paragraph"><img src="https://picsum.photos/id/1010/250/250" alt="" ></img></p>


<p style="line-height: 0" class="reset-paragraph image-paragraph"><img src="https://picsum.photos/id/1011/250/250" alt="" ></img></p>


<p style="line-height: 0" class="reset-paragraph image-paragraph"><img src="https://picsum.photos/id/1012/250/250" alt="" ></img></p>


<p style="line-height: 0" class="reset-paragraph image-paragraph"><img src="https://picsum.photos/id/1013/250/250" alt="" ></img></p>


<p style="line-height: 0" class="reset-paragraph image-paragraph"><img src="https://picsum.photos/id/1014/250/250" alt="" ></img></p>


<p style="line-height: 0" class="reset-paragraph image-paragraph"><img src="https://picsum.photos/id/1015/250/250" alt="" ></img></p>

</split>
</script></section><section data-markdown><script type="text/template"><split no-margin>

<p style="line-height: 0" class="reset-paragraph image-paragraph"><img src="https://picsum.photos/id/1001/250/250" alt="" ></img></p>

<p style="line-height: 0" class="reset-paragraph image-paragraph"><img src="https://picsum.photos/id/1002/250/250" alt="" ></img></p>

<p style="line-height: 0" class="reset-paragraph image-paragraph"><img src="https://picsum.photos/id/1003/250/250" alt="" ></img></p>

<p style="line-height: 0" class="reset-paragraph image-paragraph"><img src="https://picsum.photos/id/1004/250/250" alt="" ></img></p>

<p style="line-height: 0" class="reset-paragraph image-paragraph"><img src="https://picsum.photos/id/1005/250/250" alt="" ></img></p>

<p style="line-height: 0" class="reset-paragraph image-paragraph"><img src="https://picsum.photos/id/1006/250/250" alt="" ></img></p>

<p style="line-height: 0" class="reset-paragraph image-paragraph"><img src="https://picsum.photos/id/1009/250/250" alt="" ></img></p>

<p style="line-height: 0" class="reset-paragraph image-paragraph"><img src="https://picsum.photos/id/1008/250/250" alt="" ></img></p>

</split></script></section><section data-markdown><script type="text/template">
有很多高级的格式和技巧，需要用到的时候再学习。
[Advaced Slides Documentation (mszturc.github.io)](https://mszturc.github.io/obsidian-advanced-slides/extend-syntax/slides/)
</script></section></section><section ><section data-markdown><script type="text/template">
## 版面和布局-网格分布
</script></section><section data-markdown><script type="text/template"><div class="has-dark-background reset-margin" style="background-color: red; position: absolute; left: 48px; top: 70px; height: 385px; min-height: 385px; width: 576px; display: flex; flex-direction: column; align-items: center; justify-content: space-evenly" >

60 x 55
</div>

<div class="has-dark-background reset-margin" style="background-color: green; position: absolute; left: 672px; top: 70px; height: 385px; min-height: 385px; width: 240px; display: flex; flex-direction: column; align-items: center; justify-content: space-evenly" >

25 x 55
</div>

<div class="has-light-background reset-margin" style="background-color: gray; position: absolute; left: 48px; top: 490px; height: 140px; min-height: 140px; width: 864px; display: flex; flex-direction: column; align-items: center; justify-content: space-evenly" >

90 x 20
</div>

<!-- .slide: class="drop" -->
</script></section><section data-markdown><script type="text/template"><div class="has-dark-background reset-margin" style="background-color: red; position: absolute; left: 0px; top: 0px; height: 210px; min-height: 210px; width: 384px; display: flex; flex-direction: column; align-items: center; justify-content: space-evenly" >


Top Left

</div>

<div class="has-dark-background reset-margin" style="background-color: green; position: absolute; left: 480px; top: 0px; height: 700px; min-height: 700px; width: 480px; display: flex; flex-direction: column; align-items: center; justify-content: space-evenly" >


Right with default size

</div>

<div class="has-light-background reset-margin" style="background-color: coral; position: absolute; left: 96px; top: 490px; height: 210px; min-height: 210px; width: 768px; display: flex; flex-direction: column; align-items: center; justify-content: space-evenly" >


Bottom

</div>

<!-- .slide: class="drop" -->
</script></section><section data-markdown><script type="text/template"><div class="has-light-background reset-margin" style="background-color: coral; position: absolute; left: 288px; top: 0px; height: 700px; min-height: 700px; width: 384px; display: flex; flex-direction: column; align-items: center; justify-content: space-evenly" >


Heading

<p style="line-height: 0" class="reset-paragraph image-paragraph"><img src="Image.jpg" alt="" ></img></p>

**Lorem Ipsum** is simply dummy text
</div>

<!-- .slide: class="drop" -->
</script></section><section data-markdown><script type="text/template"><div class="has-light-background reset-margin flex-even" style="background-color: coral; position: absolute; left: 0px; top: 210px; height: 280px; min-height: 280px; width: 960px; display: flex; flex-direction: row; align-items: center; justify-content: space-evenly" >


Left

<p style="line-height: 0" class="reset-paragraph image-paragraph"><img src="Image.jpg" alt="" ></img></p>

**Lorem Ipsum** is simply dummy text
</div>

<!-- .slide: class="drop" -->
</script></section><section data-markdown><script type="text/template"><div class="has-light-background reset-margin" style="background-color: orange; position: absolute; left: 0px; top: 0px; height: 350px; min-height: 350px; width: 528px; display: flex; flex-direction: column; align-items: center; justify-content: space-evenly" >


### Make

</div>

### Noise <!-- .element: style="background-color: rgb(0,0,0); position: absolute; left: 432px; top: 350px; height: 350px; min-height: 350px; width: 528px; display: flex; flex-direction: column; align-items: center; justify-content: space-evenly" class="has-dark-background reset-margin" -->

<div class="has-dark-background reset-margin" style="background-color: green; transform: rotate(-15deg); position: absolute; left: 360px; top: 280px; height: 140px; min-height: 140px; width: 240px; display: flex; flex-direction: column; align-items: center; justify-content: space-evenly" >


### some

</div>

<!-- .slide: class="drop" -->
</script></section><section data-markdown><script type="text/template"><div class="reset-margin" style="border: thick dotted blue; box-sizing: border-box; position: absolute; left: 0px; top: 262.5px; height: 175px; min-height: 175px; width: 288px; display: flex; flex-direction: column; align-items: center; justify-content: space-evenly" >


thick dotted blue

</div>

<div class="reset-margin" style="border: 4px solid white; box-sizing: border-box; position: absolute; left: 336px; top: 262.5px; height: 175px; min-height: 175px; width: 288px; display: flex; flex-direction: column; align-items: center; justify-content: space-evenly" >

20px solid white
</div>

thick dotted blue <!-- .element: style="border: medium dashed red; box-sizing: border-box; position: absolute; left: 672px; top: 262.5px; height: 175px; min-height: 175px; width: 288px; display: flex; flex-direction: column; align-items: center; justify-content: space-evenly" class="reset-margin" -->

<!-- .slide: class="drop" -->
</script></section><section data-markdown><script type="text/template"><div class="has-light-background reset-margin" style="background-color: white; filter: grayscale(); position: absolute; left: 364.79999999999995px; top: 175px; height: 350px; min-height: 350px; width: 480px; display: flex; flex-direction: column; align-items: center; justify-content: space-evenly" >

<p style="line-height: 0" class="reset-paragraph image-paragraph"><img src="Image.jpg" alt="" ></img></p>

</div>

Text is too blurry <!-- .element: style="background-color: #B565A7; filter: sepia(10px); position: absolute; left: 48px; top: 105px; height: 175px; min-height: 175px; width: 288px; display: flex; flex-direction: column; align-items: center; justify-content: space-evenly" class="has-light-background reset-margin" -->

<!-- .slide: class="drop" -->
</script></section><section data-markdown><script type="text/template">
有需要用到再学，这块儿还是要花点时间，有很多参数可以配置
</script></section></section><section ><section data-markdown><script type="text/template">
## 主题和配置
</script></section><section data-markdown><script type="text/template">在metadata里面加theme:

```
-   black (default)
-   white
-   league
-   beige
-   sky
-   night
-   serif
-   simple
-   solarized
-   blood
-   moon
-   css/mattropolis.css
```
</script></section><section data-markdown><script type="text/template">
metadata有各种参数可以控制主题
</script></section></section></div>
    </div>

    <script src="dist/reveal.js"></script>

    <script src="plugin/markdown/markdown.js"></script>
    <script src="plugin/highlight/highlight.js"></script>
    <script src="plugin/zoom/zoom.js"></script>
    <script src="plugin/notes/notes.js"></script>
    <script src="plugin/math/math.js"></script>
	<script src="plugin/mermaid/mermaid.js"></script>
	<script src="plugin/chart/chart.min.js"></script>
	<script src="plugin/chart/plugin.js"></script>
	<script src="plugin/menu/menu.js"></script>
	<script src="plugin/customcontrols/plugin.js"></script>
	<script src="plugin/chalkboard/plugin.js"></script>

    <script>
      function extend() {
        var target = {};
        for (var i = 0; i < arguments.length; i++) {
          var source = arguments[i];
          for (var key in source) {
            if (source.hasOwnProperty(key)) {
              target[key] = source[key];
            }
          }
        }
        return target;
      }

	  function isLight(color) {
		let hex = color.replace('#', '');

		// convert #fff => #ffffff
		if(hex.length == 3){
			hex = `${hex[0]}${hex[0]}${hex[1]}${hex[1]}${hex[2]}${hex[2]}`;
		}

		const c_r = parseInt(hex.substr(0, 2), 16);
		const c_g = parseInt(hex.substr(2, 2), 16);
		const c_b = parseInt(hex.substr(4, 2), 16);
		const brightness = ((c_r * 299) + (c_g * 587) + (c_b * 114)) / 1000;
		return brightness > 155;
	}

	var bgColor = getComputedStyle(document.documentElement).getPropertyValue('--r-background-color').trim();

	if(isLight(bgColor)){
		document.body.classList.add('has-light-background');
	} else {
		document.body.classList.add('has-dark-background');
	}

      // default options to init reveal.js
      var defaultOptions = {
        controls: true,
        progress: true,
        history: true,
        center: true,
        transition: 'default', // none/fade/slide/convex/concave/zoom
        plugins: [
          RevealMarkdown,
          RevealHighlight,
          RevealZoom,
          RevealNotes,
          RevealMath.MathJax3,
		  RevealMermaid,
		  RevealChart,
		  RevealCustomControls,
		  RevealMenu,
		  RevealChalkboard, 
        ],

		mathjax3: {
			mathjax: 'plugin/math/mathjax/tex-mml-chtml.js',
		},

		customcontrols: {
			controls: [
				{id: 'toggle-overview',
				title: 'Toggle overview (O)',
				icon: '<i class="fa fa-th"></i>',
				action: 'Reveal.toggleOverview();'
				},
				{ icon: '<i class="fa fa-pen-square"></i>',
				title: 'Toggle chalkboard (B)',
				action: 'RevealChalkboard.toggleChalkboard();'
				},
				{ icon: '<i class="fa fa-pen"></i>',
				title: 'Toggle notes canvas (C)',
				action: 'RevealChalkboard.toggleNotesCanvas();'
				},
			]
		},
		menu: {
			loadIcons: false
		}
      };

      // options from URL query string
      var queryOptions = Reveal().getQueryHash() || {};

      var options = extend(defaultOptions, {"width":960,"height":700,"margin":0.04,"controls":true,"progress":true,"slideNumber":true,"transition":"slide","transitionSpeed":"fast"}, queryOptions);
    </script>

    <script>
      Reveal.initialize(options);
    </script>
  </body>
</html>
